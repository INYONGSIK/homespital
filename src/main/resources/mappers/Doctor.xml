<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mna.homespital.dao.DoctorDAO">
    <!--    <insert id="insertDoctor" parameterType="Doctor">-->
    <!--        <![CDATA[-->
    <!--        insert into `user`(user_email, user_password, user_name, user_registration_number,-->
    <!--                           user_phone, user_address)-->
    <!--        values (#{user_email}, #{user_password}, #{user_name}, #{user_registration_number},-->
    <!--                #{user_phone}, #{user_address})-->
    <!--        ]]>-->
    <!--    </insert>-->
    <select id="queryDoctor" resultType="Doctor" parameterType="int">
        <![CDATA[
        select *
        from (select @rownum:=@rownum+1 rnum, tot.*
              from (select * from doctor) tot,
                  (select @rownum := 0) temp) sub
        where rnum between #{startrow} and #{startrow} + 9
        ]]>
    </select>

    <select id="doctorAmount" resultType="Integer">
        <![CDATA[
        select count(doctor_number)
        from doctor;
        ]]>
    </select>
<!--    인성 : 선택한 의사 넘버 가져와서 의사 정보 get  -->
    <select id="selectDoctorByNumber" resultType="Doctor" parameterType="int">
        <![CDATA[
        select *
        from doctor
        where doctor_number = #{doctor_number}
        ]]>
    </select>

</mapper>