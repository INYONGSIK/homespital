<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mna.homespital.dao.DiagnosisDAO">
    <insert id="insertDiag">
        <!-- 훈 : 진단차트 입력 예시 -->
        <![CDATA[
        insert into diagnosis(user_number, doctor_number, diagnosis_type, diagnosis_time, diagnosis_wait_number,
                              diagnosis_content,)
        values (#{user_number}, #{doctor_number}, #{diagnosis_type},
                #{diagnosis_time}, #{diagnosis_wait_number}, #{diagnosis_content}, #{diagnosis_image_name},
                #{is_diagnosis_complete}, #{is_diagnosis_uploaded}, #{is_prescription_upload},
                #{diagnosis_file_name}, #{prescription_file_name}, #{diagnosis_money}, #{prescription_file_name},
                #{is_delivery}, #{billing_key})
        ]]>
    </insert>

    <!-- 인성 : 예약하기 진료차트 폼 POST -->
    <insert id="insertDiagnosis" parameterType="Diagnosis">
        <![CDATA[
        insert into diagnosis(user_number, doctor_number, is_delivery, diagnosis_time, diagnosis_content,
                              diagnosis_wait_number, diagnosis_image_name, billing_key, diagnosis_type  )
        values (#{user_number}, #{doctor_number}, 1, #{diagnosis_time}, #{diagnosis_content}, 11, #{diagnosis_image_name}, 'a', #{diagnosis_type});
        ]]>
    </insert>


    <!--  소연 : diagnosis번호로 해당 진료차트내용 가져오기  -->
    <select id="getDiagnosisNo" resultType="Diagnosis" parameterType="int">
        <![CDATA[
        select *
        from diagnosis
        where diagnosis_number = #{diagnosis_number}
        ]]>
    </select>
</mapper>